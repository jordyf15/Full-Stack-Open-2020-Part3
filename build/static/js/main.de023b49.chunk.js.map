{"version":3,"sources":["components/Persons.js","components/Filter.js","components/ContactForm.js","services/contact.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deleteContact","name","number","onClick","value","id","Persons","persons","map","key","Filter","changeHandler","filterValue","onChange","ContactForm","submitHandler","changeInputName","changeInputNumber","onSubmit","type","baseUrl","axios","get","then","res","data","newContact","post","delete","updatedContact","put","Notification","message","colorNotif","style","border","backgroundColor","color","padding","fontSize","borderRadius","marginBottom","App","React","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","showPersons","setShowPersons","notifMessage","setNotifMessage","setColorNotif","useEffect","console","log","toLowerCase","includes","contactServices","initialPersons","event","target","exist","preventDefault","newPerson","forEach","updateContact","window","confirm","updatedPerson","setTimeout","catch","addedPerson","concat","err","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.de023b49.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person=({person,deleteContact})=>{\r\n\r\nreturn(\r\n    <p>{person.name} {person.number} \r\n    <button onClick={deleteContact} value={person.id}>delete</button></p>\r\n)};\r\n\r\nconst Persons=({persons,deleteContact})=>{\r\n\r\n    return(\r\n        <div>\r\n            <h2>Numbers</h2>\r\n            {persons.map((person)=>{\r\n                // console.log(person.name)\r\n                return <Person key={person.name} person={person} deleteContact={deleteContact}/>\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons;","import React from 'react';\r\nconst Filter=({changeHandler, filterValue})=>{\r\n    return(\r\n      <>\r\n      filter shown with <input onChange={changeHandler} value={filterValue}/>\r\n      </>\r\n    )\r\n  }\r\n\r\n  export default Filter;","import React from 'react';\r\nconst ContactForm=({submitHandler, changeInputName,changeInputNumber,name,number })=>{\r\n    return(\r\n      <form onSubmit={submitHandler}>\r\n          <div>\r\n            name: <input onChange={changeInputName} value={name}></input>\r\n            number: <input onChange={changeInputNumber} value={number}/>\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\n  \r\n  export default ContactForm;","import axios from 'axios';\r\nconst baseUrl='/api/persons';\r\n\r\nconst getAll=()=>{\r\n    return axios.get(baseUrl)\r\n    .then((res)=>{\r\n        return res.data;\r\n    })\r\n}\r\n\r\nconst create=(newContact)=>{\r\n    return axios.post(baseUrl,newContact)\r\n    .then((res)=>{\r\n        return res.data\r\n    })\r\n}\r\n\r\nconst update=(updatedContact)=>{\r\n    return axios.put(`${baseUrl}/${updatedContact.id}`,updatedContact)\r\n    .then((res)=>{\r\n        return res.data;\r\n    })\r\n}\r\n\r\nconst del=(id)=>{\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default{\r\n    getAll,\r\n    create,\r\n    del,\r\n    update\r\n}","import React from 'react';\r\n\r\nconst Notification=({message,colorNotif})=>{\r\n    // console.log(colorNotif)\r\n    const greenNotif={\r\n        border: '5px solid green',\r\n        backgroundColor: '#C8C8C8',\r\n        color: 'green',\r\n       padding: '10px 0px 10px 10px',\r\n        fontSize: 22,\r\n        borderRadius: 5,\r\n        marginBottom: 10\r\n    }\r\n    const redNotif={\r\n        border: '5px solid red',\r\n        backgroundColor: '#C8C8C8',\r\n        color: 'red',\r\n        padding: '10px 0px 10px 10px',\r\n        fontSize: 22,\r\n        borderRadius: 5,\r\n        marginBottom: 10\r\n    }\r\n    if(message===null){\r\n        return null\r\n    }else if(colorNotif===true){\r\n        return(\r\n            <div style={greenNotif}>\r\n                {message}\r\n            </div>\r\n        )\r\n    }else{\r\n        return <div style={redNotif}>\r\n            {message};\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Notification","import React,{useState} from 'react';\nimport Persons from './components/Persons.js';\nimport Filter from './components/Filter.js';\nimport ContactForm from './components/ContactForm.js';\nimport contactServices from './services/contact.js';\nimport Notification from './components/Notification.js';\n\nconst App=()=>{\n  const [persons,setPersons]=React.useState([]);\n  const [newName, setNewName]=React.useState('');\n  const [newNumber,setNewNumber]=React.useState('');\n  const [filter,setFilter]=React.useState('');\n  const [showPersons,setShowPersons]=React.useState(persons);\n  const [notifMessage,setNotifMessage]=useState(null);\n  const [colorNotif,setColorNotif]=useState(true);\n\n  const submitNewPerson=(event)=>{\n    let exist=false;\n    event.preventDefault();\n    const newPerson={\n      name: newName,\n      number: newNumber\n    }\n    persons.forEach((person)=>{\n      if(person.name===newPerson.name){\n        exist=true;\n      }\n    })\n    if(exist===true){\n      let updateContact=persons.filter((person)=>{\n        return person.name.toLowerCase()===newPerson.name.toLowerCase();\n      })\n      updateContact=updateContact[0];\n      if(window.confirm(`${updateContact.name} is already added to phonebook, replace the old number with\n      the new one?`)){\n        updateContact.number=newPerson.number;\n        contactServices.update(updateContact)\n        .then((updatedPerson)=>{\n        setPersons(persons.map((person)=>person.id===updatedPerson.id?updatedPerson:person))\n          setColorNotif(true);\n        setNotifMessage(`changed ${updatedPerson.name}`)\n        setTimeout(() => {\n          setNotifMessage(null);\n        }, 5000);\n      })\n      .catch(()=>{\n        setColorNotif(false);\n        setNotifMessage(`Information of ${updateContact.name} has already been removed from server`);\n      })\n      }\n    }else{\n      contactServices.create(newPerson)\n      .then((addedPerson)=>{\n        if(addedPerson.name){\n        console.log('masuk ke then')\n        setPersons(persons.concat(addedPerson));\n        setNewName('');\n        setNewNumber('');\n        setColorNotif(true);\n        setNotifMessage(`added ${addedPerson.name}`)\n        setTimeout(() => {\n          setNotifMessage(null);\n        }, 5000);\n      }else{\n        throw addedPerson\n      }\n      })\n      .catch((err)=>{\n        console.log('masuk errornya',err);\n        setNewName('');\n        setNewNumber('');\n        setColorNotif(false);\n        setNotifMessage(err);\n        setTimeout(() => {\n          setNotifMessage(null);\n        }, 5000);\n      })\n    }\n  }\n\n  const deleteContact=(event)=>{\n    console.log(event.target.value)\n    console.log(persons);\n    const deletedPerson=persons.filter((person)=>person.id===event.target.value)[0].name;\n    if(window.confirm(`Delete ${deletedPerson}`)){\n      contactServices.del(event.target.value)\n      .then(()=>{\n        setPersons(persons.filter((person)=>{\n          return person.id!==event.target.value;\n        }))\n      })\n    }\n  }\n\n  const changeInputNumber=(event)=>{\n    setNewNumber(event.target.value)\n  }\n\n  const changeInputName=(event)=>{\n    setNewName(event.target.value)\n  }\n\n  const changeInputFilter=(event)=>{\n    setFilter(event.target.value);\n  }\n\n  React.useEffect(()=>{\n    console.log(persons)\n    setShowPersons(persons.filter((person)=>{\n      return person.name.toLowerCase().includes(filter.toLowerCase())}));\n  },[filter,persons])\n\n  React.useEffect(()=>{\n    contactServices.getAll()\n    .then((initialPersons)=>{\n      setPersons(initialPersons);\n    })\n  },[])\n\n  return (\n    <div>\n      \n      <h2>Phonebook</h2>\n      <Notification message={notifMessage} colorNotif={colorNotif}/>\n      <Filter changeHandler={changeInputFilter} filterValue={filter}/>\n      \n      <h2>Add a new Contact</h2>\n      <ContactForm submitHandler={submitNewPerson} changeInputName={changeInputName} changeInputNumber={changeInputNumber}\n      name={newName} number={newNumber}/>\n\n      <Persons persons={showPersons} deleteContact={deleteContact}/>\n    </div>\n  )\n\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}